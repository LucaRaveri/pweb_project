{"remainingRequest":"/Users/LucaRaveri/Desktop/pweb00/node_modules/thread-loader/dist/cjs.js!/Users/LucaRaveri/Desktop/pweb00/node_modules/babel-loader/lib/index.js!/Users/LucaRaveri/Desktop/pweb00/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/LucaRaveri/Desktop/pweb00/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/LucaRaveri/Desktop/pweb00/src/views/EditJourney.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/LucaRaveri/Desktop/pweb00/src/views/EditJourney.vue","mtime":1643197557133},{"path":"/Users/LucaRaveri/Desktop/pweb00/babel.config.js","mtime":1640341353348},{"path":"/Users/LucaRaveri/Desktop/pweb00/node_modules/cache-loader/dist/cjs.js","mtime":1640341091566},{"path":"/Users/LucaRaveri/Desktop/pweb00/node_modules/thread-loader/dist/cjs.js","mtime":1640341091564},{"path":"/Users/LucaRaveri/Desktop/pweb00/node_modules/babel-loader/lib/index.js","mtime":1640341097438},{"path":"/Users/LucaRaveri/Desktop/pweb00/node_modules/cache-loader/dist/cjs.js","mtime":1640341091566},{"path":"/Users/LucaRaveri/Desktop/pweb00/node_modules/vue-loader/lib/index.js","mtime":1640341101992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0Sm91cm5leSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpYWdnaTogW10sCiAgICAgIHNlbGVjdGVkSWQ6ICIiLAogICAgICBzZWxlY3RlZERhdGE6ICIiLAogICAgICBzZWxlY3RlZE1lenpvOiAiIiwKICAgICAgc2VsZWN0ZWRUYXBwZTogIiIsCiAgICAgIHNlbGVjdGVkUGVyY29yc286ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgYXhpb3MuZ2V0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVJPT1QpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gX3RoaXMudmlhZ2dpID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEpvdXJuZXk6IGZ1bmN0aW9uIHNldEpvdXJuZXkoaW5kZXgpIHsKICAgICAgdmFyIHNlbGVjdGVkSm91cm5leSA9IHRoaXMudmlhZ2dpW2luZGV4XTsKICAgICAgdGhpcy5zZWxlY3RlZElkID0gc2VsZWN0ZWRKb3VybmV5LmlkOwogICAgICB0aGlzLnNlbGVjdGVkRGF0YSA9IHNlbGVjdGVkSm91cm5leS5kYXRhOwogICAgICB0aGlzLnNlbGVjdGVkTWV6em8gPSBzZWxlY3RlZEpvdXJuZXkubWV6em87CiAgICAgIHRoaXMuc2VsZWN0ZWRUYXBwZSA9IHNlbGVjdGVkSm91cm5leS50YXBwZTsKICAgICAgdGhpcy5zZWxlY3RlZFBlcmNvcnNvID0gc2VsZWN0ZWRKb3VybmV5LnBlcmNvcnNvOwogICAgfSwKICAgIGVkaXRKb3VybmV5OiBmdW5jdGlvbiBlZGl0Sm91cm5leSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLnNlbGVjdGVkSWQ7CiAgICAgIHZhciBkYXRhID0gdGhpcy5zZWxlY3RlZERhdGE7CiAgICAgIHZhciBtZXp6byA9IHRoaXMuc2VsZWN0ZWRNZXp6bzsKICAgICAgdmFyIHRhcHBlID0gdGhpcy5zZWxlY3RlZFRhcHBlOwogICAgICB2YXIgcGVyY29yc28gPSB0aGlzLnNlbGVjdGVkUGVyY29yc287IC8vdmFyIHVuYW1lID0gIk1hcmNvUmF2ZXJpIjsKICAgICAgLy92YXIgcGFzcyA9ICJNYXJjbyI7CgogICAgICBheGlvcy5wdXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUk9PVCksIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBtZXp6bzogbWV6em8sCiAgICAgICAgdGFwcGU6IHRhcHBlLAogICAgICAgIHBlcmNvcnNvOiBwZXJjb3JzbwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIucmVzZXRWYXJpYWJsZXMoKTsKCiAgICAgICAgYXhpb3MuZ2V0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVJPT1QpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi52aWFnZ2kgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0Rm9ybSIpLnJlc2V0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRWYXJpYWJsZXM6IGZ1bmN0aW9uIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLnNlbGVjdGVkSWQgPSAiIjsKICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSAiIjsKICAgICAgdGhpcy5zZWxlY3RlZE1lenpvID0gIiI7CiAgICAgIHRoaXMuc2VsZWN0ZWRUYXBwZSA9ICIiOwogICAgICB0aGlzLnNlbGVjdGVkUGVyY29yc28gPSAiIjsKICAgIH0gLy8gc2V0Sm91cm5leTogZnVuY3Rpb24gKGpvdXJuZXlJZCkgewogICAgLy8gICBjb25zb2xlLmxvZyhqb3VybmV5SWQpOwogICAgLy8gICBjb25zdCBzZWxlY3RlZEpvdXJuZXkgPSB0aGlzLnZpYWdnaS5maW5kKAogICAgLy8gICAgIHZpYWdnaW8gPT4gdmlhZ2dpby5faWQucmFuZG9tVmFsdWUxID09PSBqb3VybmV5SWQKICAgIC8vICAgKTsKICAgIC8vICAgY29uc29sZS5sb2coc2VsZWN0ZWRKb3VybmV5KTsKICAgIC8vICAgdGhpcy5zZWxlY3RlZERhdGEgPSBzZWxlY3RlZEpvdXJuZXkuZGF0YTsKICAgIC8vICAgdGhpcy5zZWxlY3RlZE1lenpvID0gc2VsZWN0ZWRKb3VybmV5Lm1lenpvOwogICAgLy8gICB0aGlzLnNlbGVjdGVkVGFwcGUgPSBzZWxlY3RlZEpvdXJuZXkudGFwcGU7CiAgICAvLyB9LAoKICB9Cn07"},{"version":3,"sources":["EditJourney.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,aAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAKA,MAAA,aAAA,EAAA,EALA;AAMA,MAAA,gBAAA,EAAA;AANA,KAAA;AAQA,GAbA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,GAEA,IAFA,CAEA,UAAA,QAAA;AAAA,aAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AAAA,KAFA,EAGA,KAHA,CAGA,UAAA,KAAA;AAAA,aAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA;AAAA,KAHA;AAIA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,oBAAA,KAAA,EAAA;AACA,UAAA,eAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AACA,WAAA,UAAA,GAAA,eAAA,CAAA,EAAA;AACA,WAAA,YAAA,GAAA,eAAA,CAAA,IAAA;AACA,WAAA,aAAA,GAAA,eAAA,CAAA,KAAA;AACA,WAAA,aAAA,GAAA,eAAA,CAAA,KAAA;AACA,WAAA,gBAAA,GAAA,eAAA,CAAA,QAAA;AACA,KARA;AAUA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,UAAA,EAAA,GAAA,KAAA,UAAA;AACA,UAAA,IAAA,GAAA,KAAA,YAAA;AACA,UAAA,KAAA,GAAA,KAAA,aAAA;AACA,UAAA,KAAA,GAAA,KAAA,aAAA;AACA,UAAA,QAAA,GAAA,KAAA,gBAAA,CALA,CAMA;AACA;;AACA,MAAA,KAAA,CACA,GADA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,GACA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,IAFA;AAGA,QAAA,KAAA,EAAA,KAHA;AAIA,QAAA,KAAA,EAAA,KAJA;AAKA,QAAA,QAAA,EAAA;AALA,OADA,EAQA,IARA,CAQA,YAAA;AACA,QAAA,MAAA,CAAA,cAAA;;AACA,QAAA,KAAA,CACA,GADA,WACA,OAAA,CAAA,GAAA,CAAA,eADA,GAEA,IAFA,CAEA,UAAA,QAAA;AAAA,iBAAA,MAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AAAA,SAFA,EAGA,KAHA,CAGA,UAAA,KAAA;AAAA,iBAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA;AAAA,SAHA;AAIA,QAAA,QAAA,CAAA,cAAA,CAAA,UAAA,EAAA,KAAA;AACA,OAfA,EAgBA,KAhBA,CAgBA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA;AAAA,OAhBA;AAiBA,KAnCA;AAqCA,IAAA,cAAA,EAAA,0BAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,gBAAA,GAAA,EAAA;AACA,KA3CA,CA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAtDA;AArBA,CAAA","sourcesContent":["<template>\n  <div>\n    <form id=\"editForm\" class=\"m-3 border rounded p-5\">\n      <h1 class=\"mb-3\" style=\"text-align: center\">Modifica viaggio</h1>\n      <select\n        class=\"form-select mb-3\"\n        @change=\"setJourney($event.target.value)\"\n      >\n        <option disabled selected value>-- Seleziona viaggio --</option>\n        <option v-for=\"(viaggio, index) in viaggi\" :key=\"index\" :value=\"index\">\n          {{ viaggio.data }} - {{ viaggio.mezzo }} - {{ viaggio.tappe }}\n        </option>\n        <!-- <option\n          v-for=\"viaggio in viaggi\"\n          :key=\"viaggio._id\"\n          :value=\"viaggio._id.randomValue1\"\n        >\n          {{ viaggio.data }} - {{ viaggio.mezzo }} - {{ viaggio.tappe }}\n        </option> -->\n      </select>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Data</label>\n        <input type=\"date\" class=\"form-control\" v-model=\"selectedData\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Mezzo</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedMezzo\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Tappe principali</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedTappe\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Percorso (in formato GeoJSON)</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedPercorso\" />\n      </div>\n      <button\n        type=\"submit\"\n        class=\"btn btn-primary\"\n        @click.prevent=\"editJourney\"\n        style=\"width: 100%\"\n      >\n        Inserisci\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n\n  name: \"EditJourney\",\n\n  data() {\n    return {\n      viaggi: [],\n      selectedId: \"\",\n      selectedData: \"\",\n      selectedMezzo: \"\",\n      selectedTappe: \"\",\n      selectedPercorso: \"\",\n    };\n  },\n\n  created() {\n    axios\n      .get(`${process.env.VUE_APP_APIROOT}`)\n      .then(response => (this.viaggi = response.data))\n      .catch(error => console.error(error));\n  },\n  methods: {\n    setJourney: function (index) {\n      const selectedJourney = this.viaggi[index];\n      this.selectedId = selectedJourney.id;\n      this.selectedData = selectedJourney.data;\n      this.selectedMezzo = selectedJourney.mezzo;\n      this.selectedTappe = selectedJourney.tappe;\n      this.selectedPercorso = selectedJourney.percorso;\n    },\n\n    editJourney: function () {\n      const id = this.selectedId;\n      const data = this.selectedData;\n      const mezzo = this.selectedMezzo;\n      const tappe = this.selectedTappe;\n      const percorso = this.selectedPercorso;\n      //var uname = \"MarcoRaveri\";\n      //var pass = \"Marco\";\n      axios\n        .put(`${process.env.VUE_APP_APIROOT}`, {\n          id: id,\n          data: data,\n          mezzo: mezzo,\n          tappe: tappe,\n          percorso: percorso,\n        })\n        .then(() => {\n          this.resetVariables();\n          axios\n            .get(`${process.env.VUE_APP_APIROOT}`)\n            .then(response => (this.viaggi = response.data))\n            .catch(error => console.error(error));\n          document.getElementById(\"editForm\").reset();\n        })\n        .catch(error => console.error(error));\n    },\n\n    resetVariables: function () {\n      this.selectedId = \"\";\n      this.selectedData = \"\";\n      this.selectedMezzo = \"\";\n      this.selectedTappe = \"\";\n      this.selectedPercorso = \"\";\n    },\n\n    // setJourney: function (journeyId) {\n    //   console.log(journeyId);\n    //   const selectedJourney = this.viaggi.find(\n    //     viaggio => viaggio._id.randomValue1 === journeyId\n    //   );\n    //   console.log(selectedJourney);\n    //   this.selectedData = selectedJourney.data;\n    //   this.selectedMezzo = selectedJourney.mezzo;\n    //   this.selectedTappe = selectedJourney.tappe;\n    // },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/views"}]}
{"version":3,"sources":["webpack:///./src/views/EditJourney.vue?0188","webpack:///src/views/EditJourney.vue","webpack:///./src/views/EditJourney.vue?1443","webpack:///./src/views/EditJourney.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","on","$event","setJourney","target","value","_l","viaggio","index","key","domProps","_s","data","mezzo","tappe","directives","name","rawName","expression","composing","selectedData","selectedMezzo","selectedTappe","selectedPercorso","preventDefault","editJourney","apply","arguments","staticRenderFns","viaggi","selectedId","created","methods","selectedJourney","id","percorso","resetVariables","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,yBAAyBC,MAAM,CAAC,GAAK,aAAa,CAACH,EAAG,KAAK,CAACE,YAAY,OAAOE,YAAY,CAAC,aAAa,WAAW,CAACR,EAAIS,GAAG,sBAAsBL,EAAG,SAAS,CAACE,YAAY,mBAAmBI,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAIY,WAAWD,EAAOE,OAAOC,UAAU,CAACV,EAAG,SAAS,CAACG,MAAM,CAAC,SAAW,GAAG,SAAW,GAAG,MAAQ,KAAK,CAACP,EAAIS,GAAG,6BAA6BT,EAAIe,GAAIf,EAAU,QAAE,SAASgB,EAAQC,GAAO,OAAOb,EAAG,SAAS,CAACc,IAAID,EAAME,SAAS,CAAC,MAAQF,IAAQ,CAACjB,EAAIS,GAAG,IAAIT,EAAIoB,GAAGJ,EAAQK,MAAM,MAAMrB,EAAIoB,GAAGJ,EAAQM,OAAO,MAAMtB,EAAIoB,GAAGJ,EAAQO,OAAO,WAAU,GAAGnB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIS,GAAG,UAAUL,EAAG,QAAQ,CAACoB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOd,EAAgB,aAAE2B,WAAW,iBAAiBrB,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASnB,EAAgB,cAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOE,OAAOe,YAAqB5B,EAAI6B,aAAalB,EAAOE,OAAOC,aAAYV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIS,GAAG,WAAWL,EAAG,QAAQ,CAACoB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOd,EAAiB,cAAE2B,WAAW,kBAAkBrB,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASnB,EAAiB,eAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOE,OAAOe,YAAqB5B,EAAI8B,cAAcnB,EAAOE,OAAOC,aAAYV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIS,GAAG,sBAAsBL,EAAG,QAAQ,CAACoB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOd,EAAiB,cAAE2B,WAAW,kBAAkBrB,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASnB,EAAiB,eAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOE,OAAOe,YAAqB5B,EAAI+B,cAAcpB,EAAOE,OAAOC,aAAYV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIS,GAAG,mCAAmCL,EAAG,QAAQ,CAACoB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOd,EAAoB,iBAAE2B,WAAW,qBAAqBrB,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQY,SAAS,CAAC,MAASnB,EAAoB,kBAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOE,OAAOe,YAAqB5B,EAAIgC,iBAAiBrB,EAAOE,OAAOC,aAAYV,EAAG,SAAS,CAACE,YAAY,kBAAkBE,YAAY,CAAC,MAAQ,QAAQD,MAAM,CAAC,KAAO,UAAUG,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOsB,iBAAwBjC,EAAIkC,YAAYC,MAAM,KAAMC,cAAc,CAACpC,EAAIS,GAAG,sBACp+E4B,EAAkB,G,qBCkDtB,GAEEZ,KAAM,cAENJ,KAJF,WAKI,MAAO,CACLiB,OAAQ,GACRC,WAAY,GACZV,aAAc,GACdC,cAAe,GACfC,cAAe,GACfC,iBAAkB,KAItBQ,QAfF,WAeA,WACI,EAAJ,EACA,IADA,UACA,4CACA,kBAAM,OAAN,mBACA,mBAAM,OAAN,qBAEEC,QAAS,CACP7B,WAAY,SAAhB,GACM,IAAN,iBACMX,KAAKsC,WAAaG,EAAgBC,GAClC1C,KAAK4B,aAAea,EAAgBrB,KACpCpB,KAAK6B,cAAgBY,EAAgBpB,MACrCrB,KAAK8B,cAAgBW,EAAgBnB,MACrCtB,KAAK+B,iBAAmBU,EAAgBE,UAG1CV,YAAa,WAAjB,WACA,kBACA,oBACA,qBACA,qBACA,wBAGM,EAAN,EACA,IADA,UACA,4CACQ,GAAR,EACQ,KAAR,EACQ,MAAR,EACQ,MAAR,EACQ,SAAR,IAEA,iBACQ,EAAR,iBACQ,EAAR,EACA,IADA,UACA,4CACA,kBAAU,OAAV,mBACA,mBAAU,OAAV,oBACQ,SAAR,sCAEA,mBAAQ,OAAR,qBAGIW,eAAgB,WACd5C,KAAKsC,WAAa,GAClBtC,KAAK4B,aAAe,GACpB5B,KAAK6B,cAAgB,GACrB7B,KAAK8B,cAAgB,GACrB9B,KAAK+B,iBAAmB,MClHuT,I,YCOjVc,EAAY,eACd,EACA/C,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAS,E","file":"js/chunk-2d20732a.dd4d44eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"m-3 border rounded p-5\",attrs:{\"id\":\"editForm\"}},[_c('h1',{staticClass:\"mb-3\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Modifica viaggio\")]),_c('select',{staticClass:\"form-select mb-3\",on:{\"change\":function($event){return _vm.setJourney($event.target.value)}}},[_c('option',{attrs:{\"disabled\":\"\",\"selected\":\"\",\"value\":\"\"}},[_vm._v(\"-- Seleziona viaggio --\")]),_vm._l((_vm.viaggi),function(viaggio,index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(viaggio.data)+\" - \"+_vm._s(viaggio.mezzo)+\" - \"+_vm._s(viaggio.tappe)+\" \")])})],2),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Data\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedData),expression:\"selectedData\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.selectedData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedData=$event.target.value}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Mezzo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedMezzo),expression:\"selectedMezzo\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.selectedMezzo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedMezzo=$event.target.value}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Tappe principali\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedTappe),expression:\"selectedTappe\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.selectedTappe)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedTappe=$event.target.value}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Percorso (in formato GeoJSON)\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedPercorso),expression:\"selectedPercorso\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.selectedPercorso)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedPercorso=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.editJourney.apply(null, arguments)}}},[_vm._v(\" Inserisci \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form id=\"editForm\" class=\"m-3 border rounded p-5\">\n      <h1 class=\"mb-3\" style=\"text-align: center\">Modifica viaggio</h1>\n      <select\n        class=\"form-select mb-3\"\n        @change=\"setJourney($event.target.value)\"\n      >\n        <option disabled selected value>-- Seleziona viaggio --</option>\n        <option v-for=\"(viaggio, index) in viaggi\" :key=\"index\" :value=\"index\">\n          {{ viaggio.data }} - {{ viaggio.mezzo }} - {{ viaggio.tappe }}\n        </option>\n        <!-- <option\n          v-for=\"viaggio in viaggi\"\n          :key=\"viaggio._id\"\n          :value=\"viaggio._id.randomValue1\"\n        >\n          {{ viaggio.data }} - {{ viaggio.mezzo }} - {{ viaggio.tappe }}\n        </option> -->\n      </select>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Data</label>\n        <input type=\"date\" class=\"form-control\" v-model=\"selectedData\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Mezzo</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedMezzo\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Tappe principali</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedTappe\" />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Percorso (in formato GeoJSON)</label>\n        <input type=\"text\" class=\"form-control\" v-model=\"selectedPercorso\" />\n      </div>\n      <button\n        type=\"submit\"\n        class=\"btn btn-primary\"\n        @click.prevent=\"editJourney\"\n        style=\"width: 100%\"\n      >\n        Inserisci\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n\n  name: \"EditJourney\",\n\n  data() {\n    return {\n      viaggi: [],\n      selectedId: \"\",\n      selectedData: \"\",\n      selectedMezzo: \"\",\n      selectedTappe: \"\",\n      selectedPercorso: \"\",\n    };\n  },\n\n  created() {\n    axios\n      .get(`${process.env.VUE_APP_APIROOT}`)\n      .then(response => (this.viaggi = response.data))\n      .catch(error => console.error(error));\n  },\n  methods: {\n    setJourney: function (index) {\n      const selectedJourney = this.viaggi[index];\n      this.selectedId = selectedJourney.id;\n      this.selectedData = selectedJourney.data;\n      this.selectedMezzo = selectedJourney.mezzo;\n      this.selectedTappe = selectedJourney.tappe;\n      this.selectedPercorso = selectedJourney.percorso;\n    },\n\n    editJourney: function () {\n      const id = this.selectedId;\n      const data = this.selectedData;\n      const mezzo = this.selectedMezzo;\n      const tappe = this.selectedTappe;\n      const percorso = this.selectedPercorso;\n      //var uname = \"MarcoRaveri\";\n      //var pass = \"Marco\";\n      axios\n        .put(`${process.env.VUE_APP_APIROOT}`, {\n          id: id,\n          data: data,\n          mezzo: mezzo,\n          tappe: tappe,\n          percorso: percorso,\n        })\n        .then(() => {\n          this.resetVariables();\n          axios\n            .get(`${process.env.VUE_APP_APIROOT}`)\n            .then(response => (this.viaggi = response.data))\n            .catch(error => console.error(error));\n          document.getElementById(\"editForm\").reset();\n        })\n        .catch(error => console.error(error));\n    },\n\n    resetVariables: function () {\n      this.selectedId = \"\";\n      this.selectedData = \"\";\n      this.selectedMezzo = \"\";\n      this.selectedTappe = \"\";\n      this.selectedPercorso = \"\";\n    },\n\n    // setJourney: function (journeyId) {\n    //   console.log(journeyId);\n    //   const selectedJourney = this.viaggi.find(\n    //     viaggio => viaggio._id.randomValue1 === journeyId\n    //   );\n    //   console.log(selectedJourney);\n    //   this.selectedData = selectedJourney.data;\n    //   this.selectedMezzo = selectedJourney.mezzo;\n    //   this.selectedTappe = selectedJourney.tappe;\n    // },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditJourney.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditJourney.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditJourney.vue?vue&type=template&id=053043b8&\"\nimport script from \"./EditJourney.vue?vue&type=script&lang=js&\"\nexport * from \"./EditJourney.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}